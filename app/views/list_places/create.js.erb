

// function refreshForm(listPlaceHTML) {
//   const newListForm = document.getElementById('new_list_place');
//   console.log(newListForm);
//   console.log(listPlaceHTML);
//   newListForm.innerHTML = listPlaceHTML;
// }

function refreshForm() {

  //const inputs = document.querySelectorAll('.form-control');
  const inputs = document.getElementById('autocomplete');
  inputs.value = "";
  const inputs2 = document.getElementById('list_place_comments');
  inputs2.value = "";
  const inputs3 = document.getElementById('list_place_place_attributes_photo');
  inputs3.value = "";
}

function addListPlace(listPlaceHTML) {
  const places = document.getElementById('places');
  places.insertAdjacentHTML('beforeend', listPlaceHTML);
}



addListPlace('<%= j render "list_places/show", list: @list, lp: @list_place%>');

let photo = document.querySelector('#list_place_place_attributes_photo');

let placeholders = document.querySelectorAll(".place-image");

let placeholder = placeholders[placeholders.length - 1];

if (photo.files[0]) {
  let reader = new FileReader();
  reader.onload = (event) => {
    placeholder.src = event.target.result;
  };
  reader.readAsDataURL(photo.files[0]);
}

refreshForm();

window.scrollTo(0,document.body.scrollHeight);

// refreshForm('<%= j render "list_places/form", list: @list, list_place: ListPlace.new()%>');

// const addListenerToPhoto = () => {
//  const photo = document.querySelector('#list_place_place_attributes_photo')
//  photo.addEventListener("change", (event) => {
//    const image = event.target.files[0];
//    console.log("chnge event is triggered yoooo");
//    const placeholders = document.querySelector("place-image");
//    const placeholder = placeholders[placeholders.length - 1];
//    const reader = new FileReader();
//    reader.onload = (event) => {
//      placeholder.src = event.target.result;
//    };
//    reader.readAsDataURL(image);
//  });
// };




